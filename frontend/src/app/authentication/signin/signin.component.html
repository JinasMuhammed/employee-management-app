<div class="auth-container">
  <div class="row auth-main">
    <div class="col-sm-8 px-0 d-none d-sm-block">
      <div class="left-img"
           style="background-image: url(assets/images/pages/bg-01.jpg);">
      </div>
    </div>
    <div class="col-sm-4 auth-form-section">
      <div class="form-section">
        <div class="auth-wrapper">
          <h6 class="login-title">Login</h6>
          <form [formGroup]="authForm" (ngSubmit)="onSubmit()" (submit)="$event.preventDefault()">

            <mat-form-field appearance="outline" class="example-full-width mb-3">
              <mat-label>Username or Email</mat-label>
              <input matInput formControlName="username" />
              <mat-icon matSuffix>face</mat-icon>
              <mat-error *ngIf="f['username'].hasError('required')">
                Username is required
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="example-full-width mb-3">
              <mat-label>Password</mat-label>
              <input matInput
                     [type]="hide ? 'password' : 'text'"
                     formControlName="password" />
              <button mat-icon-button
                      matSuffix
                      type="button"
                      (click)="hide = !hide"
                      aria-label="Toggle password visibility">
                <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
              </button>
              <mat-error *ngIf="f['password'].hasError('required')">
                Password is required
              </mat-error>
            </mat-form-field>

            <div class="alert alert-danger mb-3" *ngIf="error && !loading">
              {{ error }}
            </div>

            <div class="text-center">
              <button mat-flat-button
                      color="accent"
                      class="auth-form-btn"
                      [disabled]="loading || authForm.invalid"
                      type="submit">
                <mat-spinner *ngIf="loading"
                             diameter="20"
                             strokeWidth="3"
                             class="mr-2">
                </mat-spinner>
                <span *ngIf="!loading">Login</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
